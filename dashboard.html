<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dashboard</title>
</head>
<body>
<script src="https://alcdn.msauth.net/browser/2.7.0/js/msal-browser.js" crossorigin="anonymous"></script>
<h1>Dashboard</h1>
<nav>
    <ul>
        <li><a href="upload.html">Upload File</a></li>
        <li><a href="file-list.html">File List</a></li>
        <li><a href="download.html">Download Files</a></li>
    </ul>
</nav>
<button onclick="logout()">Sign out</button>

<script>
    function logout() {
        localStorage.removeItem('username');
        window.location.href = '/';
    }

    window.onload = function() {
        const params = new URLSearchParams(window.location.search);
        const username = params.get('username');
        if (username) {
            localStorage.setItem('username', username);
            history.replaceState(null, null, window.location.pathname);
        }
    };
</script>
</body>
</html>
